function tick() {
	const element = (
		<div>
			<h1>Hello, world!</h1>
			<h2>It is {new Date().toLocaleTimeString()}. </h2>
		</div>
	); 
	
	ReactDOM.render(
		element, 
		document.getElementById('root')
	);
}

setInterval(tick, 1000);

//The problem is that the clock function should update itself. We shouldn't rely on an outside function like 'setInterval()'

function Clock(props) {
	return(
		<div>
			<h1>Hello, world!</h1>
			<h2>It is {props.date.toLocaleTimeString()}. </h2>
		</div>
		</div>
	);
}

function tick() {
	ReactDOM.render(
		<Clock date={new Date()} />, 
		document.getElementById('root')
	);	
}

setInterval(tick, 1000); 

//The implementation above is better because it encpasulates the Clock into its own function but the update is still dependent on setInterval 

//The ideal implementation is the following: 
ReactDOM.render(
	<Clock />, 
	document.getElementById('root')
);
//To implement the above we need to add state to the app 
//Local state is a feature available only to classes 

//Converting a functional component to a class: 
//1. Create an ES6 class with the same name as the functional component name that extends 'React.component' 
//2. Add a single empty method to it called render()
//3. Move the body of the function into the render() method
//4. Replace props with this.props in the render() body 
//5. Delete the remaining empty function declaration


//If a variable is used inside render(), then the variable should inside state. 
//If a variable is not used inside render(), then it should be placed outside of state. 

//The reason why the clock can be changed is that React sees the setState() method and it automatically refreshes the render() of Clock 
class Clock extends React.Component {
	constructor(props) {
		super(props); 
		this.state = {date: new Date(), 
		counter: 1 };
		
	}
	
	componentDidMount() {
		this.timerID = setInterval(
			() => this.tick(), 
			1000
		);
	}
	
	componentWillUnmount() {
		clearInterval(this.timerID);
	}
	
	tick() {
		this.setState({
			date: new Date()
		});
	}
	
	render() {
		return (
			<div> 
				<h1>Hello, world!</h1>
				<h2>It is {this.state.date.toLocaleTimeString()}. </h2>
			</div>
		);
	}
}

ReactDOM.render(
	<Clock />,
	document.getElementById('root')
);	

//DO NOT MODIFY STATE DIRECTLY. YOU NEED TO USE setState(). 

//Any state is always owned by some specific component, and any data or UI derived from that state can only affect components "below" them in the tree. 